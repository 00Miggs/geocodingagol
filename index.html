<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>ArcGIS Maps SDK for JavaScript Tutorials: Display a map</title>

    <!-- The API key is required to access the ArcGIS API for JavaScript -->
    <style>
      html,
      body,
      #viewDiv {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
      }
    </style>

    <!-- these are the links to the arcgis api for javascript, the first link is the css file and the second link is the javascript file -->
    <link rel="stylesheet" href="https://js.arcgis.com/4.28/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.28/"></script>

    <!-- this is the script that will be used to create the map, the script is written in javascript and it is used to create the map and the view of the map -->
    <script>
        require([
        "esri/config", 
        "esri/Map", 
        "esri/views/MapView"//,
        //"esri/layers/GeoJSONLayer"  //edit here
      ], function(esriConfig, Map, /*GeoJSONLayer,*/ MapView) { //geojsonlayer is used to add a geojson layer to the map

            //this is the api key that is required to access the arcgis api for javascript which is my api key
            esriConfig.apiKey = "AAPK92af26d9842a48ccb552c0ae5e32b5ceJiMRXou8m248fRCfrZyuCLLaXmyktnHdb2BWly3eHgL4zpiJpIXKmteMHEg8TE6w";
            const map = new Map({
            basemap: "arcgis-oceans" // Basemap layer service // THERE IS AN ERROR HERE FROM TUTORIAL INSTEAD OF ARCGIS/TOPOGRAPHIC IT SHOULD BE ARCGIS-TOPOGRAPHIC to work with my API key
            
            });

            const geojsonLayer = new GeoJSONLayer({
              url: MegaCities_Miguel2.geojson, //https://00miggs.github.io/geocodingagol/MegaCities_Miguel2.geojson
              copyright: "Miguel"
            });

            const view = new MapView({
              map: map,
              center: [0, 0], // Longitude, latitude
              zoom: 4, // Zoom level
              container: "viewDiv", // Div element
              layers: [geojsonLayer]
            });

            //copilot is extremely useful, i learned how to add a selector above to change baselayer maps
            //this event listener is used to change the basemap layer by allowing the user to select a different basemap layer
            //for some reason the navigation basemap layer is not working
            document.getElementById('basemap-select').addEventListener('change', function() {
              map.basemap = this.value;
            });
            
        });
    </script>

  </head>
  <body>
  <!-- this is the selector that allows the user to change the basemap layer -->
    <select id="basemap-select">
      <option value="arcgis-oceans">Oceans</option>
      <option value="arcgis-topographic">Topographic</option>
      <option value="arcgis-navigation">Navigation</option>
    </select>

    <!--copilot is extremely useful, i learned how to add a selector above to change baselayer maps--> 

    <div id="viewDiv"></div>
  </body>
</html>